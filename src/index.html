<!DOCTYPE html>

<html lang="en">
<head>
	<title>obspkg-lite-sac</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<link type="text/css" rel="stylesheet" href="./css/basic.css">
	<link type="text/css" rel="stylesheet" href="./css/window.css">
</head>
<body>


<script type="module" src="./js/obspkg-lite.js"></script>

<div id="bounds">

	<div id="plot">
		<div id="info-field" class="info-style hidden">
			<div class="info-temp info-section">
				<div class="info-head"></div>
				<div class="info-text"></div>
			</div>
			<div class="info-body"></div>
		</div>
		<div id="y-axis" class="plot-major-axis" style="border-left:1px green solid;"></div>
		<div id="x-axis" class="plot-major-axis" style="border-top:1px green solid;"></div>
		<div id="title-box" class="hidden">
<!--			<div class="box-wrapper">-->
<!--				<div id="title" class="entry_page_title">1979 to 2020</div>-->
<!--				<div id="upwelling" class="button" data-layer="up"><div>upwelling</div></div>-->
<!--				<div id="downwelling" class="button" data-layer="down"><div>downwelling</div></div>-->
<!--			</div>-->
		</div>
		<div id="intro-box">
			<div class="box-wrapper is-overlay">
				<div id="intro" class="entry_page_intro">
					Browse the 3D map and explore 40 years of wind-driven sporadic upwelling and downwelling events around Mediterranean shorelines. Discover where do they occur, get statistics on their occurrence frequency (days per year, month) and access to Wind-induced Upwelling and Downwelling Index (WUDI) values for any event. Scroll down to learn more.
				</div>
				<div id="intro-button">begin</div>
			</div>
		</div>
<!--		recenter,camera-motion,instructions,navigation -->
		<div id="plot-controls" class="is-overlay">
			<div id="recenter" title="recenter map on screen (space)">
				<svg width="256px" height="256px" viewBox="0 0 256 256" >
<path class="st0" d="M196.6,10H59.5C32.2,10,10,32.2,10,59.5v137c0,27.3,22.2,49.5,49.5,49.5h137c27.3,0,49.5-22.2,49.6-49.4V59.5
	C246.1,32.2,223.9,10,196.6,10z M223.1,196.6c0,14.6-11.9,26.5-26.5,26.5H59.5c-14.6,0-26.5-11.9-26.5-26.5V59.5
	C33,44.8,44.8,33,59.5,33h137.1c14.6,0,26.5,11.9,26.5,26.5V196.6z M62.6,133.4c-5-1.1-10,2-11,7.1c-1.1,5,2,10,7.1,11l19.9,4.4
	c3,0.7,4.1,4.3,1.9,6.5L52,190.9c-3.7,3.7-3.7,9.6,0,13.3s9.6,3.7,13.3,0l28.6-28.6c2.2-2.2,5.8-1.1,6.5,1.9l4.4,19.9
	c1.1,5,6,8,11,7.1c5-1.1,8-6,7.1-11l-10.3-47c-0.3-1.5-1.5-2.6-2.9-2.9L62.6,133.4z M190.8,51.8l-28.6,28.6
	c-2.2,2.2-5.8,1.1-6.5-1.9l-4.4-19.9c-1.1-5-6-8-11-7.1c-5,1.1-8,6-7.1,11l10.3,47c0.3,1.5,1.5,2.6,2.9,2.9l47,10.3
	c5,1.1,10-2,11-7.1c1.1-5-2-10-7.1-11l-19.9-4.4c-3-0.7-4.1-4.3-1.9-6.5l28.6-28.6c3.7-3.7,3.7-9.6,0-13.3
	C200.4,48.1,194.5,48.1,190.8,51.8z M133.4,193.5c-1.1,5,2,10,7.1,11c5,1.1,10-2,11-7.1l4.4-19.9c0.7-3,4.3-4.1,6.5-1.9L191,204
	c3.7,3.7,9.6,3.7,13.3,0s3.7-9.6,0-13.3l-28.6-28.6c-2.2-2.2-1.1-5.8,1.9-6.5l19.9-4.4c5-1.1,8-6,7.1-11c-1.1-5-6-8-11-7.1l-47,10.3
	c-1.5,0.3-2.6,1.5-2.9,2.9L133.4,193.5z M51.8,65.2l28.6,28.6c2.2,2.2,1.1,5.8-1.9,6.5l-19.9,4.4c-5,1.1-8,6-7.1,11
	c1.1,5,6,8,11,7.1l47-10.3c1.5-0.3,2.6-1.5,2.9-2.9l10.3-47c1.1-5-2-10-7.1-11c-5-1.1-10,2-11,7.1l-4.4,19.9c-0.7,3-4.3,4.1-6.5,1.9
	L65.1,52c-3.7-3.7-9.6-3.7-13.3,0C48.2,55.6,48.2,61.6,51.8,65.2z"/>
				</svg>
			</div>
			<div id="camera-motion" title="auto-rotate view">
				<svg width="256px" height="256px" viewBox="0 0 256 256" >
<path class="st0" d="M196.6,10H59.5C32.2,10,10,32.2,10,59.5v137c0,27.3,22.2,49.5,49.5,49.5h137c27.3,0,49.5-22.2,49.6-49.4V59.5
	C246.1,32.2,223.9,10,196.6,10z M223.1,196.6c0,14.6-11.9,26.5-26.5,26.5H59.5c-14.6,0-26.5-11.9-26.5-26.5V59.5
	C33,44.8,44.8,33,59.5,33h137.1c14.6,0,26.5,11.9,26.5,26.5V196.6z M87.9,94c-2.2-3.5-6.8-4.5-10.3-2.2c-3.5,2.2-4.5,6.8-2.2,10.3
	l8.8,13.7c1.3,2.1-0.2,4.8-2.6,4.8H49.4c-4.1,0-7.5,3.4-7.5,7.5c0,4.1,3.4,7.5,7.5,7.5h32.3c2.4,0,3.9,2.7,2.6,4.8l-8.8,13.7
	c-2.2,3.5-1.2,7.9,2.2,10.3c3.5,2.2,7.9,1.2,10.3-2.2l20.8-32.4c0.6-1,0.6-2.3,0-3.3L87.9,94z M206.7,120.4h-32.3
	c-2.4,0-3.9-2.7-2.6-4.8l8.8-13.7c2.2-3.5,1.2-7.9-2.2-10.3c-3.5-2.2-7.9-1.2-10.3,2.2l-20.8,32.4c-0.6,1-0.6,2.3,0,3.3l20.8,32.4
	c2.2,3.5,6.8,4.5,10.3,2.2c3.5-2.2,4.5-6.8,2.2-10.3l-8.8-13.7c-1.3-2.1,0.2-4.8,2.6-4.8h32.3c4.1,0,7.5-3.4,7.5-7.5
	S210.9,120.4,206.7,120.4z M126.2,116.1c6.5-1.1,12.7,3.4,13.8,9.9c1.1,6.5-3.4,12.7-9.9,13.8c-6.5,1.1-12.7-3.4-13.8-9.9
	C115.2,123.4,119.6,117.2,126.2,116.1z"/>
				</svg>
			</div>
			<div id="instructions" title="show instructions">
				<svg width="256px" height="256px" viewBox="0 0 256 256" >
					<path class="st0" d="M196.6,10H59.5C32.2,10,10,32.2,10,59.5v137c0,27.3,22.2,49.5,49.5,49.5h137c27.3,0,49.5-22.2,49.6-49.4V59.5
	C246.1,32.2,223.9,10,196.6,10z M223.1,196.6c0,14.6-11.9,26.5-26.5,26.5H59.5c-14.6,0-26.5-11.9-26.5-26.5V59.5
	C33,44.8,44.8,33,59.5,33h137.1c14.6,0,26.5,11.9,26.5,26.5V196.6z M162.3,189.3l-2.3,9.4c-6.9,2.7-12.4,4.8-16.5,6.2
	c-4.1,1.4-8.9,2.1-14.4,2.1c-8.4,0-14.9-2-19.5-6.1c-4.6-4.1-7-9.3-7-15.6c0-2.4,0.2-4.9,0.5-7.5c0.3-2.5,0.9-5.4,1.7-8.6l8.6-30.6
	c0.8-2.9,1.4-5.7,1.9-8.3c0.5-2.6,0.8-5,0.8-7.2c0-3.9-0.8-6.6-2.4-8.2c-1.6-1.5-4.7-2.3-9.2-2.3c-2.2,0-4.5,0.4-6.9,1
	c-2.3,0.7-4.4,1.4-6,2l2.3-9.4c5.7-2.3,11.1-4.3,16.3-5.9c5.2-1.6,10.1-2.5,14.7-2.5c8.3,0,14.7,2,19.2,6c4.5,4,6.8,9.2,6.8,15.7
	c0,1.3-0.2,3.7-0.5,7c-0.3,3.4-0.9,6.4-1.7,9.2l-8.6,30.5c-0.7,2.4-1.3,5.2-1.9,8.4c-0.6,3.1-0.8,5.5-0.8,7.1c0,4.1,0.9,6.8,2.7,8.3
	c1.8,1.5,5,2.2,9.4,2.2c2.1,0,4.5-0.4,7.1-1.1C159.1,190.5,161.1,189.8,162.3,189.3z M164.5,68.2c0,5.3-2,9.8-6,13.6
	c-4,3.7-8.9,5.6-14.5,5.6s-10.5-1.9-14.6-5.6c-4.1-3.7-6.1-8.3-6.1-13.6c0-5.3,2-9.8,6.1-13.6c4-3.8,8.9-5.7,14.6-5.7
	s10.5,1.9,14.5,5.7C162.4,58.3,164.5,62.9,164.5,68.2z"/>
				</svg></div>
			<div id="navigation" title="show/hide navigation">
				<svg width="256px" height="256px" viewBox="0 0 256 256" >
					<path class="st0" d="M196.6,10H59.5C32.2,10,10,32.2,10,59.5v137c0,27.3,22.2,49.5,49.5,49.5h137c27.3,0,49.5-22.2,49.6-49.4V59.5
	C246.1,32.2,223.9,10,196.6,10z M223.1,196.6c0,14.6-11.9,26.5-26.5,26.5H59.5c-14.6,0-26.5-11.9-26.5-26.5V59.5
	C33,44.8,44.8,33,59.5,33h137.1c14.6,0,26.5,11.9,26.5,26.5V196.6z M56,173.8V82.2h12.6l19.8,55.2h0.3V82.2h13.1v91.7H89.5
	l-20.1-55.1h-0.3v55.1L56,173.8L56,173.8z M107.8,173.8l20.5-91.7h10.9l20.5,91.7h-13.1l-3.9-19.7h-17.9l-3.9,19.7H107.8z
	 M140.2,141.8l-6.4-33.2h-0.3l-6.4,33.2H140.2z M205.9,82.2l-18.8,91.7h-11.6l-18.7-91.7h13.9l10.4,64h0.3l10.6-64H205.9z"/>
				</svg></div>
		</div>
	</div>

	<div id="title-bar" class="bar hidden">
		<div class="box-wrapper">
			WUDI&nbsp;
			<div id="title" class="entry_page_title">1979 to 2020</div>
			<div id="upwelling" class="button" data-layer="up"><div>upwelling</div></div>
			<div id="downwelling" class="button" data-layer="down"><div>downwelling</div></div>
<!--			<div id="controls">&nbsp;controls(spc)</div>-->
		</div>
	</div>

	<div id="times-bar" class="bar hidden">
		<div id="time_element_temp" class="time-element column-label"></div>
		<div id="years_container" class="row time-container"></div>
		<div id="months_container" class="row time-container"></div>
	</div>

<!--	<div id="time_element_temp" class="time-element column-label"></div>-->
<!--	<div id="years_container" class="bar row time-container hidden"></div>-->
<!--	<div id="months_container" class="bar row time-container hidden"></div>-->

	<div id="graph-obj-bar" class="bar hidden">
		<canvas id="graph" width="0" height="0"></canvas>
		<div id="graph-mark"></div>
		<div id="graph-mark-value"></div>
		<div id="graph-close" title="close graph"></div>
		<div id="graph-title" title="graph title">hello</div>
	</div>

	<div id="q-nav-bar" class="bar hidden">
		<div class="area-strip"></div>
		<div class="label">
			shocking.
		</div>
		<div class="base-position"></div>
	</div>

	<div id="obs" class="hidden">hello</div>
	<div id="page-handle-icon" ></div>
</div><!-- bounds -->

<!--<div id="dmark-seven" class="dmark">0.0</div>-->
<!--<div id="dmark-eight" class="dmark">0.0</div>-->

<div class="page-text">
	<div class="pre">
		INSTRUCTIONS:
		Click and drag the screen to pan the map.
		Scroll to zoom.
		Right-Click or Shift-Click to change map angle.
		Key (space) to recenter the map.
	</div>

	<div class="legend-items">
		<div>
			<div id="legend-obs"></div>
			<div>Point d'observation.</div>
		</div>
		<div>
			<div id="legend-obs-normal" class="legend-item-svg"></div>
			<div>Normale du point d'observation.</div>
		</div>
		<div>
			<div id="place"></div>
			<div>City(Ville) a proximité de 25km du point d'observation.</div>
		</div>
		<div>
			<div id="mpa"></div>
			<div>Zone Marine Protegée (MPA) proximité de 25km du point d'observation.</div>
		</div>
		<div>
			<div id="mpa-interior"></div>
			<div>Zone Marine Protegée (MPA) qui contient le point d'observation.</div>
		</div>
	</div>
	<div class="pre">
		frontend:
		camera on coastline
		optimise rotation on mobile
		review of vertical ticks inversion at low view
		implement the events to be visible.

		backend:
		rebuild map outlines for lower resolution.
		rebuild map depths for lower resolution.
		decide about MPA rendering.
	</div>
</div>


<div id="svg-elements" style="display:block;">

	<svg id="check-box-0" width="256px" height="256px" viewBox="0 0 256 256">
		<g>
			<path class="st0" d="M196.5,246h-137C32.2,246,10,223.8,10,196.5v-137C10,32.2,32.2,10,59.5,10h137.1c27.3,0,49.5,22.2,49.5,49.5
				v137.1C246,223.8,223.8,246,196.5,246z M59.5,33C44.8,33,33,44.8,33,59.5v137.1c0,14.6,11.9,26.5,26.5,26.5h137.1
				c14.6,0,26.5-11.9,26.5-26.5V59.5c0-14.6-11.9-26.5-26.5-26.5H59.5z"/>
		</g>
	</svg>

	<svg id="check-box-1" width="256px" height="256px" viewBox="0 0 256 256">
		<g>
			<path class="st0" d="M203.1,59l-6.1-6.1c-5.6-5.6-14.6-5.6-20.2,0L128,101.8L79.2,52.9c-5.6-5.6-14.6-5.6-20.2,0L52.9,59
				c-5.6,5.6-5.6,14.6,0,20.2l48.8,48.8l-48.8,48.8c-5.6,5.6-5.6,14.6,0,20.2l6.1,6.1c5.6,5.6,14.6,5.6,20.2,0l48.8-48.8l48.8,48.8
				c5.6,5.6,14.6,5.6,20.2,0l6.1-6.1c5.6-5.6,5.6-14.6,0-20.2L154.2,128l48.8-48.8C208.6,73.6,208.6,64.6,203.1,59z"/>
			<path class="st0" d="M196.5,10H59.5C32.2,10,10,32.2,10,59.5v137.1c0,27.3,22.2,49.5,49.5,49.5h137.1c27.3,0,49.5-22.2,49.5-49.5
				V59.5C246,32.2,223.8,10,196.5,10z M223,196.5c0,14.6-11.9,26.5-26.5,26.5H59.5C44.8,223,33,211.2,33,196.5V59.5
				C33,44.8,44.8,33,59.5,33h137.1c14.6,0,26.5,11.9,26.5,26.5V196.5z"/>
		</g>
	</svg>

	<svg id="basic-circle" width="128px" height="128px" viewBox="0 0 128 128">
		<circle class="st0" cx="64" cy="64" r="60"/>
	</svg>

	<svg id="basic-hexagon" width="128px" height="128px" viewBox="0 0 128 128">
		<polygon points="111.89,91.649 111.89,36.351 64,8.701 16.11,36.351 16.11,91.649 64,119.299 "/>
	</svg>

	<svg id="within-circle" width="128px" height="128px" viewBox="0 0 128 128">
		<path class="st0" d="M64,0C28.7,0,0,28.7,0,64c0,35.3,28.7,64,64,64s64-28.7,64-64C128,28.7,99.3,0,64,0z M64,119.2
			C33.5,119.2,8.8,94.5,8.8,64c0-28.7,21.9-52.3,50-54.9v39.4L46,40.3c-2.4-1.5-5.5-0.8-7.1,1.5c-1.5,2.4-0.8,5.5,1.5,7.1L64,64
			l23.6-15.1c2.4-1.5,3.1-4.7,1.5-7.1c-1.5-2.4-4.7-3.1-7.1-1.5l-12.8,8.2V9.1c28,2.6,50,26.2,50,54.9C119.2,94.5,94.5,119.2,64,119.2
			z"/>
	</svg>
<!--	special -->
	<svg id="h-bar" width="512px" height="512px" viewBox="0 128 512 256">
	<path class="st0" d="M409.654,204.846H102.346c-28.251,0-51.154,22.902-51.154,51.154c0,28.251,22.902,51.154,51.154,51.154h307.308
		c28.252,0,51.154-22.902,51.154-51.154C460.808,227.749,437.905,204.846,409.654,204.846z"/>
	</svg>

</div>

<!--type="x-shader/x-vertex"-->
<script id="bathos-vertex-Shader" type="vert">
	uniform float depth;
	varying float vOpacity;
	void main() {
		vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
		vOpacity = 1.0 - (1.0 / (depth / -mvPosition.z));
		gl_Position = projectionMatrix * mvPosition;
		#//modelViewMatrix * vec4(position, 1.0);
	}
</script>
<!--type="x-shader/x-fragment"-->
<script id="bathos-fragment-Shader" type="frag">
	uniform vec3 color;
	varying float vOpacity;
	void main() {
		gl_FragColor = vec4( color, vOpacity );
		if( gl_FragColor.a < 0.05) discard;
	}
</script>
<!--type="x-shader/x-vertex"-->
<script id="legend-vertex-Shader" type="vert">
	uniform float level;
	varying float vOpacity;
	#//attribute float s_sample;

	void main() {
		vec4 mvPosition = viewMatrix * modelMatrix * instanceMatrix * vec4( position, 1.0);
		vOpacity = 0.6*(level);
		gl_Position = projectionMatrix * mvPosition;
	}

</script>
<!--type="x-shader/x-fragment"-->
<script id="legend-fragment-Shader" type="frag">
	uniform vec3 color;
	varying float vOpacity;
	void main() {
		gl_FragColor = vec4( color, vOpacity );
		#//if( gl_FragColor.a < 0.05) discard;
	}
</script>
<!--type="x-shader/x-vertex"-->
<script id="map-lines-vertex-Shader" type="vert">
	uniform float level;
	varying float vOpacity;
	#//attribute float s_sample;
	void main() {
		vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
		vOpacity = 1.0 - (1.0 / (level / -mvPosition.z));
		#//0.6*(level);
		gl_Position = projectionMatrix * mvPosition;
	}

</script>
<!--type="x-shader/x-fragment"-->
<script id="map-lines-fragment-Shader" type="frag">
	uniform vec3 color;
	varying float vOpacity;
	void main() {
		gl_FragColor = vec4( color, vOpacity );
		if( gl_FragColor.a < 0.05) discard;
	}
</script>
<!--type="x-shader/x-vertex"-->
<script id="map-polygons-vertex-Shader" type="vert">
	uniform float level;
	varying float vOpacity;
	#//attribute float s_sample;
	void main() {
		vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
		vOpacity = 1.0 - (1.0 / (level / -mvPosition.z));
		gl_Position = projectionMatrix * mvPosition;
	}
</script>
<!--type="x-shader/x-fragment"-->
<script id="map-polygons-fragment-Shader" type="frag">
	uniform vec3 color;
	varying float vOpacity;
	void main() {
		gl_FragColor = vec4( color, vOpacity );
		if( gl_FragColor.a < 0.05) discard;
	}
</script>

</body>
</html>
